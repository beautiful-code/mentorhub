<div class="subnav" ng-if="Helper.keys(user_tracks).length != 0">
    <div ng-repeat="(track, track_info) in user_tracks" select-subnav="{{ track }}" ng-class="$index == 0 ? 'active':''" class="tracks">
        <a style="cursor: pointer" class="tracks__name">
            {{ track | capitalize }}
        </a>
    </div>
</div>

<div ng-if="Helper.keys(user_tracks).length == 0" style="padding: 20px;" class="text-center">
    <p>You are not assigned any task.</p>
</div>

<div ng-repeat="(track, track_info) in sections.data" style="margin-bottom: 20px">
    <div class="track__nav">
				<span class="track__nav__circle section__complete">
					<i class="material-icons">check</i>
				</span>
				<span class="track__nav__circle section__complete">
					<i class="material-icons">check</i>
				</span>
				<span class="track__nav__circle section__complete">
					<i class="material-icons">check</i>
				</span>
				<span class="track__nav__circle section__complete">
					<i class="material-icons">check</i>
				</span>
				<span class="track__nav__circle section__toReview">
					<i class="material-icons">check</i>
				</span>
				<span class="track__nav__circle section__incomplete">
					<i class="material-icons">remove</i>
				</span>
        <span class="track__nav__circle toStart"></span>
        <span class="track__nav__circle toStart"></span>
    </div>
    <div class="section" ng-repeat="sectionInteraction in track_info.recent_incomplete_section_interactions">
        <div class="section__mentor">
            <p><span class="heading">mentor:</span>{{ track_info.mentor.name }}</p>
        </div>
        <div class="section__notify" ng-class="sectionInteraction.state" ng-if="sectionInteraction.mentee_notes === null">
            Go through the resources and submit your progress.
        </div>
        <div class="section__notify" ng-class="sectionInteraction.state" ng-if="sectionInteraction.todos.length == 0 && sectionInteraction.mentee_notes !== null">
            You do not have any tasks assigned to you.
        </div>
        <div class="section__notify" ng-class="sectionInteraction.state" ng-if="sectionInteraction.todos.length != 0 && checkMyTodosStatus(sectionInteraction)">
            {{ status.mytodo }}
        </div>
        <div class="section__exercise">
            <h3 class="heading"> Exercise</h3>
            <h2>{{ sectionInteraction.title }}</h2>
            <p>{{ sectionInteraction.content }}</p>
        </div>
        <div class="section__resources">
            <h3 class="heading">Resources</h3>
            <p ng-repeat="resource in sectionInteraction.resources">
                <a href="{{ resource.url }}" target="_blank">{{ resource.text }}</a>
            </p>
        </div>
        <div class="section__answer" ng-init="note.edit = false">

            <h3 class="heading">Your Answer</h3>
            <div class="row" ng-if="sectionInteraction.mentee_notes !== null">
                <div class="col-xs-9">
                    {{ sectionInteraction.mentee_notes }}
                </div>
                <div class="col-xs-2">
                    <i ng-click="note.edit = !note.edit; note.mentee_notes = sectionInteraction.mentee_notes;" class="material-icons ">mode_edit</i>
                </div>
            </div>
            <div ng-if="sectionInteraction.mentee_notes === null || note.edit == true" style="margin-bottom: 10px">
                <form >
                    <input class="section__input" type="text" placeholder="Answer" ng-model="note.mentee_notes">
                    <button class="section__submit" ng-click="add_mentee_notes(sectionInteraction, note)">submit</button>
                </form>
            </div>
        </div>
        <div class="section__todos" ng-if="sectionInteraction.todos.length != 0">
            <h3 class="heading">Tasks to do</h3>
                <p ng-repeat="todo in sectionInteraction.todos">
                    <i class="material-icons" ng-click="update_my_todo(sectionInteraction, todo)" ng-class="todo.state" aria-hidden="true">check_circle</i>
                    {{ todo.content }}
                </p>
        </div>
    </div>
</div>
